import { useEffect, useRef, useState } from 'react';
import styles from './LoadingScreen.module.css';
import MotionSection from './MotionSection';

const LoadingScreen = () => {
  const [currentStep, setCurrentStep] = useState(1);
  const carouselRef = useRef<HTMLDivElement | null>(null);
  const [carouselIndex, setCarouselIndex] = useState(0);

  useEffect(() => {
    const STEP_DURATION = 6500;

    const interval = setInterval(() => {
      setCurrentStep(prevStep => {
        if (prevStep >= 3) {
          {/*
            clearInterval(interval);
            */}
            return prevStep -2;
          }

          return prevStep + 1;
        });
    }, STEP_DURATION);

    return () => clearInterval(interval);
  }, []);

  // Carousel drag functionality
  useEffect(() => {
    const el = carouselRef.current;
    if (!el) return;
    let isDown = false;
    let startX = 0;
    let scrollLeft = 0;

    const pointerStart = (clientX: number) => {
      isDown = true;
      el.classList.add('dragging');
      startX = clientX - el.offsetLeft;
      scrollLeft = el.scrollLeft;
    };

    const pointerMove = (clientX: number) => {
      if (!isDown) return;
      const x = clientX - el.offsetLeft;
      const walk = (x - startX) * 2;
      el.scrollLeft = scrollLeft - walk;
    };

    const onPointerDown = (e: PointerEvent) => {
      pointerStart(e.pageX);
      e.preventDefault();
    };
    const onPointerUp = () => {
      isDown = false;
      el.classList.remove('dragging');
    };
    const onPointerMove = (e: PointerEvent) => {
      if (!isDown) return;
      e.preventDefault();
      pointerMove(e.pageX);
    };

    const onTouchStart = (e: TouchEvent) => {
      const clientX = e.touches[0].pageX;
      pointerStart(clientX);
    };
    const onTouchMove = (e: TouchEvent) => {
      if (!isDown) return;
      e.preventDefault();
      const clientX = e.touches[0].pageX;
      pointerMove(clientX);
    };

    // Add scroll listener to update indicators
    const onScroll = () => {
      if (!el) return;
      const cardWidth = 310 + 24; // card width + gap
      const newIndex = Math.round(el.scrollLeft / cardWidth);
      setCarouselIndex(newIndex);
    };

    el.addEventListener('pointerdown', onPointerDown);
    window.addEventListener('pointerup', onPointerUp);
    window.addEventListener('pointermove', onPointerMove);
    el.addEventListener('touchstart', onTouchStart, { passive: false });
    el.addEventListener('touchmove', onTouchMove, { passive: false });
    el.addEventListener('touchend', onPointerUp);
    el.addEventListener('scroll', onScroll);

    return () => {
      el.removeEventListener('pointerdown', onPointerDown);
      window.removeEventListener('pointerup', onPointerUp);
      window.removeEventListener('pointermove', onPointerMove);
      el.removeEventListener('touchstart', onTouchStart);
      el.removeEventListener('touchmove', onTouchMove);
      el.removeEventListener('touchend', onPointerUp);
      el.removeEventListener('scroll', onScroll);
    };
  }, []);

  const renderStep1 = () => (
    <div className={styles.loadingContent}>
      <div className={styles.loadingFeatures}>
        <div className={styles.featureItem}>
          <div className={styles.featureBullet}></div>
          <span>20+ years driving digital innovation</span>
        </div>
        <div className={styles.featureItem}>
          <div className={styles.featureBullet}></div>
          <span>100+ successful projects</span>
        </div>
        <div className={styles.featureItem}>
          <div className={styles.featureBullet}></div>
          <span>Expertise in Private Equity & Portfolio Companies</span>
        </div>
      </div>
    </div>
  );

  const renderStep2 = () => (
    <div className={styles.loadingContent}>
      <div className={styles.loadingDescriptionSection}>
        <h2 className={styles.loadingSubtitle}>From Due Diligence to Value Creation.</h2>
        <p className={styles.loadingDescription}>
          We help Private Equity firms and their portfolio companies maximize ROI and accelerate growth through technology.
        </p>
      </div>
    </div>
  );

  const renderStep3 = () => (
    <div className={styles.loadingContent}>
      <div className={styles.loadingServicesSection}>
        <h2 className={styles.loadingSubtitle}>How We Help?</h2>
        <div className={styles.servicesCarousel} ref={carouselRef}>
          <div className={styles.serviceCard}>
            <svg width="48" height="48" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M29.6727 24.2827C29.6727 21.1592 27.1426 18.6177 24.0329 18.6177C20.9233 18.6177 18.3932 21.1592 18.3932 24.2827C18.3932 27.4062 20.9233 29.9455 24.0329 29.9455C25.0688 29.9455 26.0388 29.662 26.873 29.1716L29.4158 32.5104C29.5538 32.6917 29.7618 32.7876 29.972 32.7876C30.1206 32.7876 30.2691 32.7407 30.3965 32.6426C30.7043 32.406 30.7616 31.9646 30.5281 31.6576L27.9852 28.3166C29.0253 27.289 29.6727 25.8605 29.6727 24.2827ZM19.7962 24.2827C19.7962 21.9353 21.6981 20.0249 24.0351 20.0249C26.372 20.0249 28.2739 21.9353 28.2739 24.2827C28.2739 26.6301 26.372 28.5405 24.0351 28.5405C21.6981 28.5405 19.7962 26.6301 19.7962 24.2827ZM14.1522 33.5061V17.9035C14.1522 16.7308 15.1031 15.7757 16.2705 15.7757H19.0936V13.6478C19.0936 12.4752 20.0445 11.52 21.212 11.52H31.8016C32.9691 11.52 33.92 12.4752 33.92 13.6478V34.9218C33.92 36.0945 32.9691 37.0497 31.8016 37.0497H17.6842C17.2936 37.0497 16.9774 36.732 16.9774 36.3397C16.9774 35.9474 17.2936 35.6297 17.6842 35.6297H31.8016C32.1901 35.6297 32.5085 35.312 32.5085 34.9197V13.65C32.5085 13.2598 32.1922 12.94 31.8038 12.94H21.2141C20.8257 12.94 20.5073 13.2577 20.5073 13.65V15.7778C20.5073 16.5603 19.8747 17.1956 19.0957 17.1956H16.2727C15.8842 17.1956 15.5658 17.5133 15.5658 17.9056V33.5083C15.5658 33.9006 15.2495 34.2182 14.859 34.2182C14.4684 34.2182 14.1522 33.9006 14.1522 33.5083V33.5061ZM14.3093 36.894C14.1628 36.7469 14.08 36.5465 14.08 36.3418C14.08 36.2928 14.0843 36.2395 14.0949 36.1904C14.1076 36.1414 14.1203 36.0902 14.1394 36.0433C14.1607 35.9964 14.184 35.9516 14.2116 35.909C14.2392 35.8663 14.2711 35.8258 14.3071 35.7917C14.5937 35.5018 15.1158 35.5018 15.4045 35.7917C15.4427 35.828 15.4724 35.8685 15.5 35.909C15.5276 35.9516 15.5531 35.9964 15.5722 36.0433C15.5913 36.0902 15.6062 36.1393 15.6168 36.1904C15.6253 36.2395 15.6316 36.2928 15.6316 36.3418C15.6316 36.5465 15.5488 36.749 15.4024 36.894C15.3663 36.9303 15.3281 36.9622 15.2856 36.99C15.2432 37.0177 15.1986 37.0411 15.1519 37.0603C15.1052 37.0795 15.0585 37.0966 15.0076 37.1051C14.9567 37.1136 14.9057 37.12 14.8548 37.12C14.8038 37.12 14.7529 37.1158 14.704 37.1051C14.6552 37.0944 14.6043 37.0795 14.5576 37.0603C14.5109 37.0411 14.4663 37.0177 14.4239 36.99C14.3814 36.9622 14.3411 36.9281 14.3071 36.894H14.3093Z" fill="url(#paint0_linear_13571_1322)"/>
              <defs>
                <linearGradient id="paint0_linear_13571_1322" x1="17.1302" y1="16.5304" x2="33.6003" y2="36.0627" gradientUnits="userSpaceOnUse">
                  <stop offset="0.22" stop-color="#00CB78"/>
                  <stop offset="0.83" stop-color="#00C3D0"/>
                </linearGradient>
              </defs>
            </svg>
            <span>Technology Due Diligence</span>
          </div>
          
          <div className={styles.serviceCard}>
            <svg width="48" height="48" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M35.2966 13.6228V27.1937C35.2966 28.3152 34.3837 29.2303 33.26 29.2303H24.4391V35.3379H29.189C29.5635 35.3379 29.8678 35.6422 29.8678 36.0167C29.8678 36.3913 29.5635 36.6956 29.189 36.6956H18.3336C17.959 36.6956 17.6547 36.3913 17.6547 36.0167C17.6547 35.6422 17.959 35.3379 18.3336 35.3379H23.0835V29.2303H14.2625C13.141 29.2303 12.2259 28.3173 12.2259 27.1937V14.9805C12.2259 14.606 12.5303 14.3017 12.9048 14.3017C13.2794 14.3017 13.5837 14.606 13.5837 14.9805V27.1937C13.5837 27.5682 13.888 27.8725 14.2625 27.8725H33.2622C33.6367 27.8725 33.941 27.5682 33.941 27.1937V13.6228C33.941 13.2483 33.6367 12.944 33.2622 12.944H15.6203C15.2457 12.944 14.9414 12.6396 14.9414 12.2651C14.9414 11.8905 15.2457 11.5862 15.6203 11.5862H33.2622C34.3837 11.5862 35.2987 12.4992 35.2987 13.6228H35.2966ZM12.9069 13.0121C13.1027 13.0121 13.2964 12.9333 13.4347 12.795C13.573 12.6545 13.6539 12.463 13.6539 12.2651C13.6539 12.0672 13.573 11.8756 13.4347 11.7373C13.2602 11.5649 13.0006 11.4841 12.7601 11.5352C12.7133 11.5437 12.6643 11.5586 12.6196 11.5777C12.5771 11.5969 12.5324 11.6182 12.4898 11.6458C12.4494 11.6735 12.4132 11.7054 12.377 11.7395C12.2387 11.8756 12.16 12.0693 12.16 12.2651C12.16 12.4609 12.2387 12.6545 12.377 12.795C12.5175 12.9333 12.709 13.0121 12.9069 13.0121ZM30.2168 22.4438C30.3722 22.182 30.3382 21.8543 30.1339 21.6287L29.14 20.5349L29.1124 20.5051L29.0932 20.4838V20.0965L29.1124 20.0752L29.14 20.0454L30.1339 18.9494C30.3382 18.7239 30.3722 18.3961 30.2168 18.1344L28.8825 15.8765C28.7591 15.6679 28.5314 15.5381 28.2845 15.5381C28.2398 15.5381 28.1952 15.5424 28.1526 15.5509L26.6991 15.8403L26.6587 15.8488L26.631 15.8552L26.6055 15.8403L26.5693 15.819C26.4799 15.7637 26.3863 15.7126 26.2926 15.6637L26.2543 15.6445L26.2288 15.6317L26.2203 15.6041L26.2075 15.5636L25.7436 14.2038C25.6478 13.925 25.3861 13.7377 25.0903 13.7377H22.4216C22.1258 13.7377 21.8641 13.925 21.7683 14.2059L21.3044 15.5658L21.2916 15.6062L21.2831 15.6339L21.2576 15.6466L21.2193 15.6658C21.1256 15.7147 21.0341 15.7679 20.9426 15.8211L20.9064 15.8424L20.8809 15.8573L20.8532 15.8509L20.8128 15.8424L19.3593 15.553C19.3189 15.5445 19.2763 15.5402 19.2338 15.5402C18.9869 15.5402 18.7507 15.6722 18.6294 15.8786L17.2951 18.1365C17.1397 18.3983 17.1738 18.726 17.3781 18.9516L18.3719 20.0454L18.3995 20.0752L18.4187 20.0965V20.4838L18.3995 20.5051L18.3719 20.5349L17.3781 21.6308C17.1738 21.8564 17.1397 22.1841 17.2951 22.4459L18.6294 24.7038C18.7528 24.9123 18.9805 25.0422 19.2252 25.0422C19.2699 25.0422 19.3146 25.0379 19.3593 25.0294L20.8128 24.74L20.8532 24.7315L20.8809 24.7251L20.9064 24.74L20.9426 24.7613C21.032 24.8166 21.1256 24.8677 21.2193 24.9187L21.2576 24.9379L21.2831 24.9507L21.2916 24.9783L21.3044 25.0188L21.7683 26.3786C21.8641 26.6574 22.1258 26.8468 22.4216 26.8468H25.0903C25.3861 26.8468 25.6478 26.6595 25.7436 26.3786L26.2075 25.0188L26.2203 24.9783L26.2288 24.9507L26.2543 24.9379L26.2926 24.9187C26.3863 24.8677 26.4799 24.8166 26.5693 24.7613L26.6055 24.74L26.631 24.7251L26.6587 24.7315L26.6991 24.74L28.1526 25.0294C28.1952 25.0379 28.2377 25.0422 28.2803 25.0422C28.525 25.0422 28.7612 24.9102 28.8825 24.7038L30.2168 22.4459V22.4438ZM27.8908 21.2116L28.6804 22.0799L28.7336 22.1373L28.7697 22.1777L28.7421 22.2246L28.7016 22.2927L28.01 23.4652L27.9717 23.5312L27.944 23.5759L27.893 23.5653L27.8185 23.5504L26.6246 23.312C26.5799 23.3035 26.5352 23.2993 26.4884 23.2993C26.3458 23.2993 26.2054 23.3439 26.0905 23.4248C25.8713 23.5802 25.6372 23.7121 25.3946 23.8185C25.218 23.8972 25.0818 24.0462 25.02 24.2271L24.6391 25.3401L24.6136 25.4125L24.5966 25.4635H22.9175L22.9005 25.4125L22.8749 25.3401L22.494 24.225C22.4323 24.042 22.2961 23.893 22.1195 23.8164C21.8769 23.71 21.6428 23.5759 21.4236 23.4227C21.3065 23.3397 21.1682 23.2971 21.0256 23.2971C20.9809 23.2971 20.9341 23.3014 20.8894 23.3099L19.6956 23.5482L19.6211 23.5631L19.57 23.5738L19.5423 23.5291L19.504 23.4631L18.8103 22.2905L18.7698 22.2224L18.7422 22.1756L18.7783 22.1352L18.8315 22.0777L19.6211 21.2095C19.736 21.0818 19.7998 20.9179 19.7998 20.7455V19.8262C19.7998 19.6538 19.736 19.49 19.6211 19.3623L18.8315 18.494L18.7783 18.4366L18.7422 18.3961L18.7698 18.3493L18.8103 18.2812L19.504 17.1086L19.5423 17.0448L19.57 17.0001L19.6211 17.0107L19.6956 17.0256L20.8915 17.264C20.9362 17.2725 20.9809 17.2767 21.0256 17.2767C21.1682 17.2767 21.3087 17.2321 21.4236 17.1512C21.6406 16.998 21.8747 16.866 22.1195 16.7575C22.2961 16.6809 22.4323 16.5319 22.494 16.3489L22.8749 15.2359L22.8983 15.1636L22.9154 15.1125H24.5944L24.6115 15.1636L24.637 15.2359L25.0179 16.351C25.0796 16.5319 25.218 16.6809 25.3925 16.7596C25.6372 16.8682 25.8713 17.0001 26.0883 17.1533C26.2033 17.2342 26.3458 17.2789 26.4884 17.2789C26.5331 17.2789 26.5778 17.2746 26.6204 17.2661L27.8185 17.0278L27.893 17.0129L27.944 17.0022L27.9717 17.0469L28.01 17.1129L28.7016 18.2855L28.7421 18.3536L28.7697 18.4004L28.7336 18.4408L28.6804 18.4983L27.8908 19.3665C27.7759 19.4942 27.7121 19.6581 27.7121 19.8305V20.7498C27.7121 20.9222 27.7759 21.086 27.8908 21.2137V21.2116ZM24.3391 20.8711C24.4923 20.7179 24.5817 20.5051 24.5817 20.2901C24.5817 20.0752 24.4944 19.8603 24.3412 19.707C24.2007 19.5666 23.99 19.4857 23.7581 19.4857C23.5261 19.4857 23.3154 19.5666 23.175 19.707C23.0239 19.8624 22.9366 20.0731 22.9366 20.2901C22.9366 20.5072 23.0281 20.72 23.192 20.8881C23.2048 20.8988 23.2473 20.9392 23.3005 20.9732C23.3431 21.003 23.3921 21.0286 23.4431 21.0499C23.4963 21.0733 23.5474 21.0882 23.5985 21.0988C23.6538 21.1094 23.7049 21.1137 23.7581 21.1137C23.8113 21.1137 23.8645 21.1094 23.9156 21.0988C23.9645 21.0903 24.0156 21.0733 24.0709 21.052C24.122 21.0307 24.1688 21.0073 24.2135 20.9775C24.2582 20.9477 24.3007 20.9137 24.3391 20.8754V20.8711Z" fill="url(#paint0_linear_13571_1323)"/>
              <defs>
                <linearGradient id="paint0_linear_13571_1323" x1="15.6905" y1="14.6826" x2="32.7855" y2="30.273" gradientUnits="userSpaceOnUse">
                  <stop offset="0.22" stop-color="#00CB78"/>
                  <stop offset="0.83" stop-color="#00C3D0"/>
                </linearGradient>
              </defs>
            </svg>
            <span>Tech Maturity Assessment</span>
          </div>
          
          <div className={styles.serviceCard}>
            <svg width="48" height="49" viewBox="0 0 48 49" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M34.2705 16.8202H27.8934V15.8217C27.8934 14.7848 27.0485 13.9399 26.0116 13.9399H21.1963C20.1594 13.9399 19.3166 14.7827 19.3166 15.8196V16.8181H12.9395C11.9027 16.8181 11.0599 17.6608 11.0599 18.6977V22.7876C11.0599 23.2122 11.4056 23.56 11.8323 23.56C12.259 23.56 12.6046 23.2143 12.6046 22.7876V18.6977C12.6046 18.5121 12.7561 18.3606 12.9417 18.3606H34.2726C34.4582 18.3606 34.6097 18.5121 34.6097 18.6977V32.6893C34.6097 32.8749 34.4582 33.0264 34.2726 33.0264H12.9417C12.7561 33.0264 12.6046 32.8749 12.6046 32.6893V28.2921C12.6046 27.8675 12.259 27.5198 11.8323 27.5198C11.4056 27.5198 11.0599 27.8654 11.0599 28.2921V32.6871C11.0599 33.724 11.9048 34.5689 12.9417 34.5689H34.2726C35.3095 34.5689 36.1522 33.7262 36.1522 32.6893V18.6977C36.1522 17.6608 35.3073 16.8159 34.2705 16.8159V16.8202ZM26.3508 16.8202H20.8592V15.8217C20.8592 15.6361 21.0107 15.4846 21.1963 15.4846H26.0137C26.1993 15.4846 26.3508 15.6361 26.3508 15.8217V16.8202ZM11.5378 26.2653C11.5848 26.2845 11.6339 26.2994 11.6808 26.3101C11.732 26.3186 11.7811 26.325 11.8301 26.325C12.0328 26.325 12.2312 26.2439 12.3742 26.101C12.5171 25.958 12.6003 25.7575 12.6003 25.5548C12.6003 25.4993 12.5939 25.4481 12.5833 25.3991C12.5747 25.3521 12.5577 25.3009 12.5385 25.2561C12.5214 25.2156 12.4979 25.1686 12.4702 25.1281C12.4425 25.0854 12.4105 25.047 12.3742 25.0108C12.2355 24.8721 12.0371 24.7931 11.828 24.7931C11.6189 24.7931 11.4205 24.8721 11.2818 25.0108C11.1389 25.1558 11.0578 25.3543 11.0578 25.5548C11.0578 25.7554 11.1389 25.9559 11.2818 26.101C11.3181 26.1351 11.3565 26.1693 11.4056 26.1991C11.4376 26.2226 11.4845 26.2461 11.5378 26.2674V26.2653Z" fill="url(#paint0_linear_13571_1324)"/>
              <defs>
                <linearGradient id="paint0_linear_13571_1324" x1="11.1858" y1="20.1869" x2="34.1211" y2="30.3637" gradientUnits="userSpaceOnUse">
                  <stop offset="0.22" stop-color="#00CB78"/>
                  <stop offset="0.83" stop-color="#00C3D0"/>
                </linearGradient>
              </defs>
            </svg>
            <span>Post-M&A Integrations</span>
          </div>
          
          <div className={styles.serviceCard}>
            <svg width="48" height="48" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M25.2024 26.4487C25.3436 26.5888 25.427 26.782 25.427 26.9815C25.427 27.181 25.3436 27.3741 25.2024 27.5163C25.0612 27.6564 24.8666 27.7349 24.6655 27.7349C24.4644 27.7349 24.2697 27.6543 24.1264 27.5163C23.9852 27.3741 23.9061 27.1789 23.9061 26.9815C23.9061 26.7841 23.9874 26.5888 24.1264 26.4487C24.4109 26.1665 24.9201 26.1665 25.2024 26.4487ZM37.1179 27.3253C37.1179 29.7852 35.1006 31.7867 32.6212 31.7867H18.4382C14.624 31.7867 11.52 28.7091 11.52 24.9227C11.52 21.1363 14.624 18.0588 18.4382 18.0588C18.7142 18.0588 18.9923 18.0757 19.2725 18.1097C20.7486 16.7471 22.6568 16 24.6869 16C28.7343 16 32.0693 18.9608 32.5742 22.8661C35.0813 22.8427 37.12 24.8505 37.12 27.3274L37.1179 27.3253ZM35.7338 27.3253C35.7338 25.6231 34.3369 24.2372 32.6212 24.2372C32.4437 24.2372 32.2618 24.2541 32.065 24.2902C31.8682 24.3263 31.665 24.2754 31.5088 24.1501C31.3527 24.0249 31.2585 23.8403 31.25 23.6408C31.1152 20.126 28.2316 17.3732 24.6847 17.3732C23.3285 17.3732 22.0385 17.7765 20.9497 18.5278C22.8022 19.2431 24.2847 20.733 24.9628 22.6368C25.1382 23.1293 25.258 23.6429 25.3158 24.1629C25.3586 24.5407 25.0848 24.8781 24.704 24.9206C24.3253 24.963 23.9831 24.6914 23.9403 24.3136C23.8932 23.8976 23.7991 23.488 23.6579 23.0932C22.9926 21.2276 21.3604 19.8565 19.4009 19.5169C19.3945 19.5169 19.388 19.5169 19.3838 19.5148C19.0672 19.4617 18.7506 19.4341 18.4404 19.4341C15.3877 19.4341 12.9041 21.8982 12.9041 24.927C12.9041 27.9557 15.3877 30.4198 18.4404 30.4198H32.6234C34.339 30.4198 35.7359 29.0317 35.7359 27.3296L35.7338 27.3253Z" fill="url(#paint0_linear_13571_1320)"/>
              <defs>
                <linearGradient id="paint0_linear_13571_1320" x1="13.2143" y1="20.1345" x2="36.5192" y2="30.648" gradientUnits="userSpaceOnUse">
                  <stop offset="0.22" stop-color="#00CB78"/>
                  <stop offset="0.83" stop-color="#00C3D0"/>
                </linearGradient>
              </defs>
            </svg>
            <span>Cloud Migration & Modernization</span>
          </div>
          
          <div className={styles.serviceCard}>
            <svg width="48" height="48" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M24.9718 12.9225C24.9718 13.1215 24.8893 13.3163 24.7478 13.4603C24.714 13.4942 24.6738 13.5281 24.6337 13.5556C24.5935 13.5831 24.5513 13.6043 24.5048 13.6234C24.4583 13.6424 24.4097 13.6594 24.3611 13.6678C24.321 13.6763 24.2808 13.6784 24.2407 13.6784C24.2301 13.6784 24.2216 13.6806 24.2111 13.6806C24.1583 13.6806 24.1075 13.6763 24.0589 13.6657C24.0188 13.6573 23.9723 13.6424 23.9174 13.6213C23.8561 13.5959 23.8181 13.5747 23.7906 13.5535C23.7462 13.5239 23.704 13.4879 23.6744 13.4603C23.5328 13.3163 23.4525 13.1194 23.4525 12.9204C23.4525 12.7213 23.5328 12.5223 23.6723 12.3804C23.8033 12.2491 23.9998 12.1729 24.2111 12.1729C24.2216 12.1729 24.2301 12.175 24.2407 12.175C24.4393 12.1813 24.621 12.2533 24.7478 12.3804C24.8893 12.5223 24.9718 12.7192 24.9718 12.9204V12.9225ZM23.2771 36.4696C23.3173 36.4696 23.3574 36.4653 23.3955 36.459C23.4441 36.4505 23.4927 36.4336 23.5392 36.4145C23.5835 36.3976 23.6258 36.3743 23.6659 36.3468C23.7061 36.3192 23.7462 36.2875 23.78 36.2536C23.9216 36.1117 24.0019 35.9169 24.0019 35.72C24.0019 35.523 23.9216 35.324 23.78 35.1821C23.6554 35.0572 23.4737 34.9852 23.2771 34.9767V34.9725H21.1916L21.1029 34.7099L20.2387 32.1688C20.1711 31.9698 20.0232 31.8067 19.8309 31.7242C19.3217 31.4997 18.8336 31.2244 18.3793 30.9025C18.2525 30.8115 18.1025 30.7649 17.9461 30.7649C17.8975 30.7649 17.8489 30.7691 17.8003 30.7797L15.0957 31.3218L14.8252 31.3769L14.6858 31.1397L12.9341 28.1709L12.7883 27.9232L12.9806 27.7114L14.7851 25.7188C14.9098 25.5812 14.9795 25.4012 14.9795 25.2127V23.4255C14.9795 23.2391 14.9098 23.0592 14.7851 22.9194L12.9806 20.9268L12.7883 20.715L12.9341 20.4673L14.6858 17.4964L14.8252 17.2592L15.0957 17.3143L17.8003 17.8564C17.8489 17.8669 17.8975 17.8712 17.9482 17.8712C18.1046 17.8712 18.2546 17.8246 18.3814 17.7335C18.8357 17.4117 19.3238 17.1364 19.833 16.9119C20.0253 16.8272 20.1732 16.6642 20.2408 16.4672L21.105 13.9262L21.1938 13.6636H22.0706V13.6551C22.1108 13.6551 22.1509 13.6509 22.189 13.6446C22.2376 13.6361 22.2862 13.6191 22.3326 13.6001C22.377 13.5831 22.4193 13.5599 22.4594 13.5323C22.4996 13.5048 22.5397 13.473 22.5735 13.4392C22.7151 13.2973 22.7954 13.1025 22.7954 12.9055C22.7954 12.7086 22.7151 12.5096 22.5735 12.3677C22.4489 12.2427 22.2671 12.1707 22.0706 12.1623L20.6571 12.1602C20.3359 12.1602 20.0506 12.3656 19.9471 12.6684L18.9751 15.5249L18.9244 15.6753L18.7828 15.7473C18.487 15.8955 18.1954 16.0607 17.9165 16.2385L17.7855 16.3211L17.6334 16.2915L14.5991 15.6838C14.5506 15.6732 14.4998 15.6689 14.4512 15.6689C14.1871 15.6689 13.9399 15.8108 13.8068 16.0395L11.2142 20.4271C11.0451 20.7129 11.081 21.0687 11.305 21.3143L13.3778 23.6034L13.4793 23.7135V24.9205L13.3778 25.0306L11.305 27.3218C11.0832 27.5674 11.0472 27.9253 11.2142 28.209L13.8026 32.6008C13.9378 32.8295 14.185 32.9714 14.4491 32.9714C14.4977 32.9714 14.5484 32.9671 14.597 32.9566L17.6292 32.3488L17.7813 32.3192L17.9123 32.4018C18.1912 32.5796 18.4828 32.7448 18.7786 32.893L18.9202 32.965L18.9709 33.1154L19.9429 35.9719C20.0464 36.2769 20.3317 36.4802 20.6528 36.4802M20.1098 21.1724C20.1098 20.8209 20.3929 20.5372 20.7437 20.5372H24.2893L26.7467 18.0745C26.2311 17.5451 25.912 16.8209 25.912 16.0247C25.912 14.4048 27.2284 13.0855 28.8448 13.0855C30.4613 13.0855 31.7777 14.4048 31.7777 16.0247C31.7777 17.6446 30.4613 18.9638 28.8448 18.9638C28.4877 18.9638 28.1454 18.8961 27.8285 18.7775C27.8116 18.7987 27.7968 18.8198 27.7778 18.8389L24.9971 21.6256C24.8724 21.7505 24.7119 21.8119 24.5492 21.8119C24.5323 21.8119 24.5132 21.8077 24.4963 21.8077C24.4942 21.8077 24.4921 21.8077 24.49 21.8077H20.7458C20.395 21.8077 20.1119 21.5239 20.1119 21.1724H20.1098ZM27.1777 16.0247C27.1777 16.9437 27.9257 17.6933 28.8427 17.6933C29.7598 17.6933 30.5078 16.9437 30.5078 16.0247C30.5078 15.1057 29.7598 14.356 28.8427 14.356C27.9257 14.356 27.1777 15.1057 27.1777 16.0247ZM31.7777 32.5161C31.7777 34.136 30.4613 35.4553 28.8448 35.4553C27.2284 35.4553 25.912 34.136 25.912 32.5161C25.912 31.7199 26.2311 30.9957 26.7467 30.4663L24.2893 28.0036H20.7437C20.3929 28.0036 20.1098 27.7199 20.1098 27.3684C20.1098 27.0168 20.3929 26.7331 20.7437 26.7331H24.4879C24.4879 26.7331 24.4921 26.7331 24.4942 26.7331C24.6738 26.7183 24.8577 26.7754 24.995 26.9131L27.7757 29.6998C27.7947 29.7188 27.8095 29.74 27.8264 29.7612C28.1433 29.6426 28.4856 29.5748 28.8448 29.5748C30.4613 29.5748 31.7777 30.8941 31.7777 32.514V32.5161ZM30.5099 32.5161C30.5099 31.595 29.7619 30.8475 28.8448 30.8475C27.9278 30.8475 27.1798 31.5971 27.1798 32.5161C27.1798 33.4351 27.9278 34.1847 28.8448 34.1847C29.7619 34.1847 30.5099 33.4351 30.5099 32.5161ZM35.8916 24.2704C35.8916 25.8903 34.5752 27.2095 32.9588 27.2095C31.579 27.2095 30.4232 26.2482 30.1105 24.9607H20.6169C20.2662 24.9607 19.983 24.677 19.983 24.3254C19.983 23.9739 20.2662 23.6902 20.6169 23.6902H30.083C30.3535 22.3455 31.5389 21.3312 32.9588 21.3312C34.5752 21.3312 35.8916 22.6505 35.8916 24.2704ZM34.6238 24.2704C34.6238 23.3493 33.8758 22.6018 32.9588 22.6018C32.0418 22.6018 31.2938 23.3514 31.2938 24.2704C31.2938 25.1894 32.0418 25.939 32.9588 25.939C33.8758 25.939 34.6238 25.1894 34.6238 24.2704Z" fill="url(#paint0_linear_13571_1321)"/>
              <defs>
                <linearGradient id="paint0_linear_13571_1321" x1="11.0388" y1="14.913" x2="36.4776" y2="33.6537" gradientUnits="userSpaceOnUse">
                  <stop offset="0.22" stop-color="#00CB78"/>
                  <stop offset="0.83" stop-color="#00C3D0"/>
                </linearGradient>
              </defs>
            </svg>
            <span>Digital Transformation & Enablement</span> 
          </div>
        </div>
        
        <div className={styles.carouselIndicators}>
          {[0, 1, 2, 3, 4].map((index) => (
            <div 
              key={index}
              className={`${styles.indicator} ${carouselIndex === index ? styles.indicatorActive : ''}`}
            />
          ))}
        </div>
      </div>
    </div>
  );

  return (
    <div className={styles.loadingSection}>
        {/* Static header: main title, divider and loader spinner */}
        <div className={styles.staticHeader}>
          <h1 className={styles.loadingMainTitle}>
            Making Sense<br />
            Technology for smarter<br />
            investments.
          </h1>

          <div className={styles.loadingDivider}>
            <div className={styles.dividerLine}></div>
            <div className={styles.dividerDot}></div>
          </div>
        </div>

        <MotionSection animateKey={`loading-step-${currentStep}`} duration={360} className={styles.loadingScreen}>
          <div className={styles.loadingContentWrapper}>
            {currentStep === 1 && renderStep1()}
            {currentStep === 2 && renderStep2()}
            {currentStep === 3 && renderStep3()}
          </div>
        </MotionSection>

        <div className={styles.loadingSpinnerContainer}>
          <div className={styles.glowEffect}></div>
          <div className={styles.sparkles}>
            <div className={styles.sparkle}></div>
            <div className={styles.sparkle}></div>
            <div className={styles.sparkle}></div>
            <div className={styles.sparkle}></div>
          </div>
          <svg className={styles.loadingSpinnerSvg} viewBox="0 0 56 56" width="56" height="56" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M56 28C56 43.464 43.464 56 28 56C12.536 56 0 43.464 0 28C0 12.536 12.536 0 28 0C43.464 0 56 12.536 56 28ZM8.4 28C8.4 38.8248 17.1752 47.6 28 47.6C38.8248 47.6 47.6 38.8248 47.6 28C47.6 17.1752 38.8248 8.4 28 8.4C17.1752 8.4 8.4 17.1752 8.4 28Z" fill="url(#paint0_angular_spinner)"/>
            <defs>
              <linearGradient id="paint0_angular_spinner" x1="0" y1="28" x2="56" y2="28" gradientUnits="userSpaceOnUse">
                <stop offset="0%" stopColor="#0ECC7E"/>
                <stop offset="100%" stopColor="rgba(83, 192, 210, 0)"/>
              </linearGradient>
            </defs>
          </svg>
        </div>
      </div>
  );
};

export default LoadingScreen;
